<!DOCTYPE html>
<html>
<head>
	<title>Beschleunigungssensor-Überwachung</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<button onclick="startMonitoring()">Überwachung starten</button>

	<script>
		function startMonitoring() {
			if (typeof DeviceMotionEvent.requestPermission === 'function') {
				// Zustimmung des Benutzers einholen, um auf Beschleunigungssensoren zuzugreifen
				DeviceMotionEvent.requestPermission().then(response => {
					if (response == 'granted') {
						// Ereignislistener hinzufügen, um Bewegungen des Geräts zu überwachen
						window.addEventListener('devicemotion', handleMotionEvent);
					}
				}).catch(console.error);
			} else {
				// Das Gerät unterstützt keine Zustimmungserklärung, daher einfach Ereignislistener hinzufügen
				window.addEventListener('devicemotion', handleMotionEvent);
			}
		}

		function handleMotionEvent(event) {
			// Schwellenwert für Bewegungserkennung festlegen
			const threshold = 10;

			// Beschleunigungsdaten des Geräts aus dem Event-Objekt abrufen
			const { x, y, z } = event.accelerationIncludingGravity;

			// Berechnen Sie die Gesamtbeschleunigung des Geräts
			const acceleration = Math.sqrt(x * x + y * y + z * z);

			if (acceleration > threshold) {
				// Das Gerät wird geschüttelt, fügen Sie hier den Code ein, den Sie ausführen möchten.
				console.log('Gerät wird geschüttelt!');
			}
		}
	</script>
</body>
</html>
